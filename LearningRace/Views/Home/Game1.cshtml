@{
	ViewBag.Title = "Game";
}
@section customScripts{
	<script src="../../Scripts/easeljs-0.6.1.min.js" type="text/javascript"></script>
    <script src="../../Scripts/Core/Utils.js"></script>
	<script src="../../Scripts/jquery.tmpl.min.js" type="text/javascript"></script>
	<script src="../../Scripts/Game/Variants.js" type="text/javascript"></script>
	<script src="../../Scripts/Game/Decoder.js" type="text/javascript"></script>
	<script src="../../Scripts/Game/Race.js" type="text/javascript"></script>
	<link href="../../Content/Game.css" rel="stylesheet" type="text/css" />
	<script type="text/javascript">
        gameInfo.questionCount = @ViewBag.questionList.Count;
        var SendAnswerURL = '@Url.Action("SendAnswer")';
        var AddRacerURL = '@Url.Action("AddRacer")';
        var GetRaceInfoURL = '@Url.Action("GetRaceInfo")';
	    var RacerReadyURL = '@Url.Action("RacerReady")';
	    var categoryId = '@ViewBag.categoryId';
	    var userId = '@CurrentUser.UserId';
	</script>
}
<div class="leftFloat w500">
	<h2>
		Game</h2>
	<table>
		<thead>
			<tr>
				<th>
					Name
				</th>
				<th>
					Length
				</th>
				<th>
					Speed
				</th>
				<th>
					State
				</th>
			</tr>
		</thead>
		<tbody id="raceRating">
		</tbody>
	</table>
	<canvas id="cnvRace" height="500" width="400"></canvas>
</div>
<script id="raceTmpl" type="text/x-jquery-tmpl">
<tr><td>${racerId}</td><td>${length}</td></tr>
</script>
<div class="leftFloat w300">
	@for (int i = 0; i < ViewBag.questionList.Count; i++)
 {
	    LR.Models.Question t = ViewBag.questionList[i];
		<div id="@t.Id" class="questionContainer" index="@i" style="display:none;">
			<div class="questionText">@t.QuestionText</div>
			@foreach (LR.Models.Variant v in t.Variants)
   {
				<div id="@v.Id" class="variantButton">@v.Value</div>
   }
		</div>
 }
</div>
<div id="messageContainer">
</div>
